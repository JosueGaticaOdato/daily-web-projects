<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pixel Button Hover Effects</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <button class="pixel-btn">
      <span>Hover Me</span>
      <div class="pixel-container" style="--clr: #ff5722"></div>
    </button>
    <button class="pixel-btn">
      <span>Hover Me</span>
      <div class="pixel-container" style="--clr: #03a9f4"></div>
    </button>
    <script>
      let buttons = document.querySelectorAll(".pixel-btn");
      buttons.forEach(button => {
        let pixelContainer = button.querySelector(".pixel-container");
        let pixSize = 10;
        let btnWidth = button.offsetWidth;
        let btnHeight = button.offsetHeight;

        let cols = Math.floor(btnWidth / pixSize);
        let rows = Math.floor(btnHeight / pixSize);

        for (let row = 0; row < rows; row++){
          for (let col = 0; col < cols; col++){
            let pixel = document.createElement("div");
            pixel.classList.add("pixel");
            pixel.style.left = `${col * pixSize}px`;
            pixel.style.top = `${row * pixSize}px`;

            let delay = Math.random() * 0.5;
            pixel.style.transitionDelay = `${delay}s`;

            let tx = (Math.random() - 0.5) * 30;
            let ty = (Math.random() - 0.5) * 30;

            pixel.style.setProperty('--tx', `${tx}px`);
            pixel.style.setProperty('--ty', `${ty}px`);

            pixelContainer.appendChild(pixel);
          }
        }
      })
    </script>
  </body>
</html>
